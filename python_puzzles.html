<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python Coding Puzzles</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;

        const puzzles = [
            {
                level: 1,
                difficulty: "Warm-up",
                title: "Two Sum with a Twist",
                description: "Given a list of integers and a target sum, return the indices of two numbers that add up to the target. If multiple pairs exist, return the pair with the smallest first index.",
                example: "two_sum([2, 7, 11, 15], 9) ‚Üí [0, 1]",
                hint: "Use a dictionary to track seen numbers and their indices.",
                testCases: [
                    { input: "two_sum([2, 7, 11, 15], 9)", output: "[0, 1]" },
                    { input: "two_sum([3, 2, 4], 6)", output: "[1, 2]" },
                    { input: "two_sum([3, 3], 6)", output: "[0, 1]" }
                ]
            },
            {
                level: 2,
                difficulty: "Getting Harder",
                title: "String Compression",
                description: "Compress a string by replacing consecutive repeated characters with the character followed by the count. If the compressed string isn't shorter, return the original.",
                example: "compress('aabcccccaaa') ‚Üí 'a2b1c5a3'",
                hint: "Track the current character and its count as you iterate.",
                testCases: [
                    { input: "compress('aabcccccaaa')", output: "'a2b1c5a3'" },
                    { input: "compress('abc')", output: "'abc'" },
                    { input: "compress('aabbcc')", output: "'aabbcc'" }
                ]
            },
            {
                level: 3,
                difficulty: "Challenging",
                title: "Valid Parentheses with Types",
                description: "Check if a string containing '(', ')', '{', '}', '[', ']' is valid. Opening brackets must be closed by the same type in the correct order.",
                example: "is_valid('({[]})') ‚Üí True",
                hint: "Use a stack! Push opening brackets, pop and match with closing ones.",
                testCases: [
                    { input: "is_valid('()')", output: "True" },
                    { input: "is_valid('()[]{}')", output: "True" },
                    { input: "is_valid('(]')", output: "False" },
                    { input: "is_valid('([)]')", output: "False" }
                ]
            },
            {
                level: 4,
                difficulty: "Tricky",
                title: "Longest Substring Without Repeating",
                description: "Find the length of the longest substring without repeating characters.",
                example: "longest_unique('abcabcbb') ‚Üí 3 (substring 'abc')",
                hint: "Sliding window with a set to track characters in current window.",
                testCases: [
                    { input: "longest_unique('abcabcbb')", output: "3" },
                    { input: "longest_unique('bbbbb')", output: "1" },
                    { input: "longest_unique('pwwkew')", output: "3" }
                ]
            },
            {
                level: 5,
                difficulty: "Advanced",
                title: "Merge Intervals",
                description: "Given a list of intervals (as tuples), merge all overlapping intervals and return the result.",
                example: "merge([(1,3), (2,6), (8,10), (15,18)]) ‚Üí [(1,6), (8,10), (15,18)]",
                hint: "Sort intervals by start time, then merge consecutive overlapping ones.",
                testCases: [
                    { input: "merge([(1,3), (2,6), (8,10), (15,18)])", output: "[(1,6), (8,10), (15,18)]" },
                    { input: "merge([(1,4), (4,5)])", output: "[(1,5)]" },
                    { input: "merge([(1,4), (0,2), (3,5)])", output: "[(0,5)]" }
                ]
            },
            {
                level: 6,
                difficulty: "Mind-Bending",
                title: "LRU Cache",
                description: "Implement an LRU (Least Recently Used) cache with get() and put() operations. Both should run in O(1) time.",
                example: "cache = LRUCache(2); cache.put(1,'a'); cache.get(1) ‚Üí 'a'",
                hint: "Use a dictionary + doubly linked list. Or consider OrderedDict.",
                testCases: [
                    { input: "See description for implementation pattern", output: "O(1) time complexity required" }
                ]
            },
            {
                level: 7,
                difficulty: "Expert",
                title: "Word Ladder",
                description: "Given two words (start and end) and a dictionary, find the shortest transformation sequence where each step changes one letter and each intermediate word must be in the dictionary.",
                example: "ladder('hit', 'cog', ['hot','dot','dog','lot','log','cog']) ‚Üí 5",
                hint: "BFS! Treat each word as a node and valid one-letter changes as edges.",
                testCases: [
                    { input: "ladder('hit', 'cog', ['hot','dot','dog','lot','log','cog'])", output: "5" },
                    { input: "ladder('hit', 'cog', ['hot','dot','dog','lot','log'])", output: "0 (impossible)" }
                ]
            }
        ];

        function PuzzleChallenge() {
            const [currentLevel, setCurrentLevel] = useState(0);
            const [showHint, setShowHint] = useState(false);
            const [showTests, setShowTests] = useState(false);
            const [completed, setCompleted] = useState([]);

            const puzzle = puzzles[currentLevel];

            const markComplete = () => {
                if (!completed.includes(currentLevel)) {
                    setCompleted([...completed, currentLevel]);
                }
            };

            const nextPuzzle = () => {
                if (currentLevel < puzzles.length - 1) {
                    setCurrentLevel(currentLevel + 1);
                    setShowHint(false);
                    setShowTests(false);
                }
            };

            const prevPuzzle = () => {
                if (currentLevel > 0) {
                    setCurrentLevel(currentLevel - 1);
                    setShowHint(false);
                    setShowTests(false);
                }
            };

            const difficultyColor = {
                "Warm-up": "bg-green-100 text-green-800",
                "Getting Harder": "bg-blue-100 text-blue-800",
                "Challenging": "bg-yellow-100 text-yellow-800",
                "Tricky": "bg-orange-100 text-orange-800",
                "Advanced": "bg-red-100 text-red-800",
                "Mind-Bending": "bg-purple-100 text-purple-800",
                "Expert": "bg-pink-100 text-pink-800"
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6">
                    <div className="max-w-4xl mx-auto">
                        <div className="bg-white rounded-lg shadow-xl p-8">
                            <div className="flex items-center justify-between mb-6">
                                <h1 className="text-3xl font-bold text-gray-800">
                                    üêç Python Puzzles
                                </h1>
                                <div className="text-sm text-gray-600">
                                    Progress: {completed.length}/{puzzles.length} completed
                                </div>
                            </div>

                            <div className="mb-6 flex items-center gap-3">
                                <span className="text-lg font-semibold text-gray-700">
                                    Level {puzzle.level}
                                </span>
                                <span className={`px-3 py-1 rounded-full text-sm font-medium ${difficultyColor[puzzle.difficulty]}`}>
                                    {puzzle.difficulty}
                                </span>
                                {completed.includes(currentLevel) && (
                                    <span className="text-2xl">‚úÖ</span>
                                )}
                            </div>

                            <div className="mb-8">
                                <h2 className="text-2xl font-bold text-gray-800 mb-3">
                                    {puzzle.title}
                                </h2>
                                <p className="text-gray-700 text-lg mb-4 leading-relaxed">
                                    {puzzle.description}
                                </p>
                                <div className="bg-gray-50 border-l-4 border-blue-500 p-4 rounded">
                                    <p className="font-mono text-sm text-gray-800">
                                        <span className="font-semibold">Example: </span>
                                        {puzzle.example}
                                    </p>
                                </div>
                            </div>

                            <div className="space-y-4 mb-8">
                                <button
                                    onClick={() => setShowHint(!showHint)}
                                    className="w-full bg-yellow-50 hover:bg-yellow-100 text-yellow-800 font-medium py-3 px-4 rounded-lg border border-yellow-200 transition"
                                >
                                    {showHint ? 'üôà Hide Hint' : 'üí° Need a Hint?'}
                                </button>
                                
                                {showHint && (
                                    <div className="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                                        <p className="text-yellow-900">
                                            <span className="font-semibold">Hint: </span>
                                            {puzzle.hint}
                                        </p>
                                    </div>
                                )}

                                <button
                                    onClick={() => setShowTests(!showTests)}
                                    className="w-full bg-purple-50 hover:bg-purple-100 text-purple-800 font-medium py-3 px-4 rounded-lg border border-purple-200 transition"
                                >
                                    {showTests ? 'üìã Hide Test Cases' : 'üß™ View Test Cases'}
                                </button>

                                {showTests && (
                                    <div className="bg-purple-50 border border-purple-200 rounded-lg p-4">
                                        <h3 className="font-semibold text-purple-900 mb-3">Test Cases:</h3>
                                        <div className="space-y-2">
                                            {puzzle.testCases.map((test, idx) => (
                                                <div key={idx} className="font-mono text-sm bg-white p-3 rounded border border-purple-200">
                                                    <div className="text-gray-700">
                                                        <span className="text-purple-700 font-semibold">Input: </span>
                                                        {test.input}
                                                    </div>
                                                    <div className="text-gray-700 mt-1">
                                                        <span className="text-purple-700 font-semibold">Expected: </span>
                                                        {test.output}
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                )}
                            </div>

                            <div className="border-t pt-6 flex gap-3">
                                <button
                                    onClick={prevPuzzle}
                                    disabled={currentLevel === 0}
                                    className={`flex-1 py-3 px-6 rounded-lg font-medium transition ${
                                        currentLevel === 0
                                            ? 'bg-gray-100 text-gray-400 cursor-not-allowed'
                                            : 'bg-gray-200 hover:bg-gray-300 text-gray-800'
                                    }`}
                                >
                                    ‚Üê Previous
                                </button>
                                
                                <button
                                    onClick={markComplete}
                                    className={`flex-1 py-3 px-6 rounded-lg font-medium transition ${
                                        completed.includes(currentLevel)
                                            ? 'bg-green-100 text-green-700 border-2 border-green-300'
                                            : 'bg-green-500 hover:bg-green-600 text-white'
                                    }`}
                                >
                                    {completed.includes(currentLevel) ? '‚úì Completed' : 'Mark Complete'}
                                </button>

                                <button
                                    onClick={nextPuzzle}
                                    disabled={currentLevel === puzzles.length - 1}
                                    className={`flex-1 py-3 px-6 rounded-lg font-medium transition ${
                                        currentLevel === puzzles.length - 1
                                            ? 'bg-gray-100 text-gray-400 cursor-not-allowed'
                                            : 'bg-blue-500 hover:bg-blue-600 text-white'
                                    }`}
                                >
                                    Next ‚Üí
                                </button>
                            </div>

                            {completed.length === puzzles.length && (
                                <div className="mt-6 bg-gradient-to-r from-green-400 to-blue-500 text-white p-6 rounded-lg text-center">
                                    <h3 className="text-2xl font-bold mb-2">üéâ All Puzzles Completed!</h3>
                                    <p className="text-lg">You've mastered all 7 levels. Great work!</p>
                                </div>
                            )}
                        </div>

                        <div className="mt-6 text-center text-gray-600 text-sm">
                            <p>üíª Code these in your favorite Python editor and test your solutions!</p>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<PuzzleChallenge />, document.getElementById('root'));
    </script>
</body>
</html>